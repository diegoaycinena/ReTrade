*version 10
set more off
capture log close
capture log using "$my_path\ReTrade\ReTrade2\Log\do-prep.log", replace

/* ReTrade Project (wave II)*/
/* Re-Trading, Price Discovery and Efficiency under Alternative Exchange Institutions */
/* Generates Global macros to be used in this project*/
/* by Diego Aycinena */
/* Created: 2017-05-23 */
/* Last modified: 2018-12-27 */
/* located in C:\...\Dropbox\Research\data\ReTrade\do */

*** Rutas archivos - File path for the current project
* Set main File Path [Establecer Rutas de archivos principales]
if c(username) == "aycinena" { // Chapman user name
	global my_path = "C:\Users\aycinena\Documents\data"
}

capture mkdir "$my_path\ReTrade\ReTrade2"
global path_main = "$my_path\ReTrade\ReTrade2"
	* $my_path is set up in the profile.do as the path with the folder where data is stored
	* $path_main is the main file path for the current project, where the main project folder is located

*global source_data = "$ServerData_path\ReTrade" 
	* "SourceData", where original data files are stored
	* $ServerData_path can be set up in the profile.do as the path with the folder where Server containing the data via FTPbox is stored

	
*Check if non standard packages are installed. If not, install
foreach package in estout fprank vioplot matchit freqindex sxpose {
 		capture which `package'
 		if _rc==111 ssc install `package'
 	}
capture which ztree2stata
if _rc==111 {
	net from http://www.econ.hit-u.ac.jp/~kan/research/ztree2stata
	net install ztree2stata
	}

*		
	
* Set second-level file paths
		*** Insinde the main project folder (defined by path_main), there should be 4 additional folders: 

* "ServerData", where raw data files are stored. Files from this directory are to be read, not saved here. 
if c(username) == "aycinena" { // Chapman user name
	global ServerData_path = "N:\_Archive\Diego Aycinena\Data\rawData\ReTrade"
}
else if c(username) == "diego" {  //Laptop personal
	global ServerData_path = "C:\Users\diego\Documents\ServerDataCVS\SourceData"
}
else if c(username) == "diego.aycinena" { // Rosario user name
	global ServerData_path = "C:\Users\diegoaa\Documents\ServerDataCVS\SourceData"	
	
	capture mkdir "E:\diego.aycinena\Documents\Data\Simulations"
	global path_RawSimData = "E:\diego.aycinena\Documents\Data\Simulations"
}		
		
* "Data", where data files created by do-files will be stored
capture mkdir "$path_main\Data"
global path_data = "$path_main\Data" 

* "Do" where do files are stored:
capture mkdir "$path_main\Do"
global path_do = "$path_main\Do"

* "Log", where log files are stored:
capture mkdir "$path_main\Log"
global path_log = "$path_main\Log"

* "Graphs, where graphs are stored:
capture mkdir "$path_main\Graphs"
global path_graphs = "$path_main\Graphs"

* "Tables", where regression tables and tables of summary statistics are stored:
capture mkdir "$path_main\Tables"
global path_tables = "$path_main\Tables"

* In addition, this is a temporary file path -outside of dropbox- to perform different operations -if needed.
if c(username) == "diego" {  //personal computer
	capture mkdir "C:\data\temp"
	global path_tempdata = "C:\data\temp"
}
else if c(username) == "diego.aycinena" { // Rosario user name
	capture mkdir "C:\data\temp"
	global path_tempdata = "C:\data\temp"
}
else if c(username) == "aycinena" { // Chapman user name
	capture mkdir "C:\Users\aycinena\Documents\data\temp"
	global path_tempdata = "C:\Users\aycinena\Documents\data\temp"
}
else {
capture mkdir "C:\data\temp"
capture global path_tempdata = "C:\data\temp"	
}

*List of paths and names for global files
global data_action = "$path_data\action.dta"		  	/* Data from the Action_Data_date_time file  */
global data_parameters = "$path_data\parameters.dta"  	/* Data from theParameters_Data_date_time file */
global data_replay = "$path_data\replay.dta"  			/* Data from the Replay_Data_date_time file */
global data_summary= "$path_data\summary.dta"  			/* Data from the Summary_Data_date_time file */



* Global List of Data files dates (wave2)  *5-15-2017_11_31_41 and s3_20170515_124730 included and dropped in crTrade0 due to problems with client software (see log) 
global file_date_list  "5-8-2017_13_59_10 5-12-2017_10_59_33    5-15-2017_11_31_41   5-15-2017_13_30_21 5-17-2017_14_30_45 9-11-2017_14_28_52 9-11-2017_16_29_2 9-13-2017_9_58_43 9-13-2017_15_3_59 9-14-2017_14_31_58 9-14-2017_16_28_11 9-15-2017_10_28_34 9-15-2017_10_58_30 10-13-2017_11_29_34 10-18-2017_9_58_48 10-23-2017_10_4_27 10-23-2017_11_15_43" //data files
global quest_file_list "s1_20170508_152057 s2_20170512_122305   s3_20170515_124730   s4_20170515_145203 s5_20170517_155822 s6_20170911_160324 s7_20170911_174958 s8_20170913_113208 s9_20170913_162922 s10_20170914_155323 s11_20170914_174646 s12_20170915_115101 s13_20170915_122846 s14_20171013_125522 s15_20171018_112108 s16_20171023_113413 s17_20171023_124623"  //ESI Psych survey results files

* List of simmulation files for Zero-Intelligence Agents (ZIA)
global zia_f_date_list "6-6-2017_15_31_1 6-6-2017_16_15_36 6-6-2017_17_19_9 6-6-2017_18_9_47 6-6-2017_19_27_23 6-6-2017_20_32_37 6-7-2017_8_20_9 6-7-2017_9_57_31 6-7-2017_10_47_33 6-7-2017_11_57_44 6-13-2017_15_29_27 6-13-2017_15_29_31 6-13-2017_16_2_28 6-13-2017_16_2_33 6-13-2017_17_4_50 6-13-2017_17_4_55 6-13-2017_17_59_26 6-13-2017_17_59_29 6-13-2017_19_10_6 6-13-2017_19_10_14 6-14-2017_8_34_36 6-14-2017_8_34_48 6-14-2017_10_16_6 6-14-2017_10_16_23 6-14-2017_11_15_57 6-14-2017_11_16_44 6-14-2017_12_21_18 6-14-2017_12_21_25 6-14-2017_13_33_21 6-14-2017_13_33_25 6-14-2017_14_43_52 6-14-2017_14_44_10 6-14-2017_15_37_56 6-14-2017_15_38_8 6-14-2017_17_22_15 6-14-2017_17_22_35 6-14-2017_19_28_44 6-14-2017_19_28_59 6-16-2017_20_38_39 6-16-2017_20_38_49 6-17-2017_0_36_30 6-17-2017_0_36_35 6-17-2017_13_28_18 6-17-2017_13_27_41" 
global zia_f_date_listW2 "10-20-2017_15_38_33	10-20-2017_15_38_37	10-20-2017_15_38_43	10-20-2017_15_39_0	10-20-2017_15_39_10	10-20-2017_15_39_14	10-20-2017_15_39_18	10-20-2017_15_39_25	10-20-2017_15_39_38	10-20-2017_15_39_50	10-22-2017_10_59_20	10-22-2017_10_59_28	10-22-2017_10_59_43	10-22-2017_10_59_47	10-22-2017_10_59_53	10-22-2017_11_0_39	10-22-2017_11_0_44	10-22-2017_11_11_8	10-23-2017_16_31_50	10-23-2017_16_31_54	10-23-2017_16_32_1	10-23-2017_16_32_21	10-23-2017_16_32_4	10-24-2017_15_42_53	10-24-2017_15_42_58	10-24-2017_15_43_2	10-24-2017_15_43_20	10-24-2017_15_43_25	10-24-2017_15_43_28	10-24-2017_15_43_9	11-13-2017_20_13_21	11-13-2017_20_13_41	11-13-2017_20_14_21	11-13-2017_20_14_57	11-13-2017_20_15_14	11-13-2017_20_15_26	11-13-2017_20_16_24	11-13-2017_20_17_1	11-13-2017_20_17_10	11-13-2017_20_32_35	11-13-2017_20_32_38	11-13-2017_20_32_41	11-13-2017_20_32_45	11-13-2017_20_32_53	11-4-2017_15_26_37	11-4-2017_15_26_39	11-4-2017_15_26_42	11-4-2017_15_26_58	11-4-2017_15_27_1	11-4-2017_15_27_33	11-4-2017_15_27_36	11-4-2017_15_27_39	11-4-2017_15_27_5	11-4-2017_17_25_29	11-4-2017_17_25_35	11-4-2017_17_25_43	11-4-2017_17_25_48	11-4-2017_17_26_1	11-4-2017_17_26_10	11-4-2017_17_26_13	11-4-2017_17_26_17	11-4-2017_17_57_30	11-4-2017_18_14_18	11-4-2017_18_25_20	11-4-2017_18_25_5	11-4-2017_18_33_10	11-4-2017_18_34_24	11-4-2017_18_34_26	11-4-2017_18_34_32	11-4-2017_18_40_14	11-4-2017_18_41_52	11-6-2017_14_43_48	11-6-2017_14_43_56	11-6-2017_14_44_18	11-6-2017_14_44_25	11-6-2017_14_44_3	11-6-2017_14_44_32	11-6-2017_14_44_38	11-6-2017_15_15_17	11-6-2017_15_15_19	11-6-2017_17_15_12	11-6-2017_17_15_4	11-6-2017_17_42_55	11-6-2017_17_43_2	11-6-2017_17_55_47	11-6-2017_17_55_51	11-6-2017_17_55_56	11-6-2017_17_55_58	11-6-2017_17_56_45	11-6-2017_17_56_53	11-6-2017_17_56_56	11-6-2017_18_18_33	11-6-2017_18_18_37	11-6-2017_18_18_41	11-6-2017_18_18_49	11-6-2017_18_19_10	11-6-2017_18_19_15	11-6-2017_18_19_47	11-6-2017_18_19_53	11-6-2017_18_19_57	11-7-2017_12_24_41	11-7-2017_12_24_45	11-7-2017_12_25_12	11-7-2017_12_25_16	11-7-2017_12_25_3	11-7-2017_12_25_49	11-7-2017_12_25_7	11-7-2017_12_26_0	11-7-2017_12_26_7	11-7-2017_19_32_47	11-7-2017_19_32_53	11-7-2017_19_32_59	11-7-2017_19_48_52	11-7-2017_19_49_28	11-7-2017_19_50_4	11-7-2017_19_50_40	11-7-2017_19_50_46	11-7-2017_19_50_52	11-8-2017_14_41_27	11-8-2017_14_41_4	11-8-2017_14_43_10	11-8-2017_14_43_38	11-8-2017_14_44_43	11-8-2017_14_45_10	11-8-2017_14_46_0	11-8-2017_14_46_27	11-8-2017_14_47_32	11-8-2017_15_43_58	11-8-2017_15_44_27	11-8-2017_15_44_7	11-8-2017_15_45_16	11-8-2017_15_45_23	11-8-2017_15_45_43	11-8-2017_15_45_49	11-8-2017_15_46_27	11-8-2017_15_46_5	11-8-2017_15_47_1	11-8-2017_15_47_9	11-8-2017_16_1_23	11-8-2017_16_1_31	11-8-2017_16_1_50	11-8-2017_16_1_53	11-8-2017_16_2_19	11-8-2017_16_2_27	11-8-2017_16_2_43	12-4-2017_18_14_54	12-4-2017_18_15_57	12-4-2017_18_27_23	12-4-2017_18_27_26	12-4-2017_18_27_47	12-4-2017_18_28_3	12-4-2017_18_34_36	12-4-2017_18_35_0	12-4-2017_18_35_7	12-4-2017_18_4_2	12-4-2017_18_4_32	12-4-2017_18_4_36	12-6-2017_8_46_19	12-6-2017_8_58_30	12-6-2017_8_58_39	12-6-2017_8_59_1	12-6-2017_8_59_35	12-6-2017_8_59_40"


* List of simmulation files for Minimal Intelligence Agents (MIA, or non-Zero-Intelligence Agents) 
global mia_f_date_list "6-9-2017_12_57_51 6-9-2017_13_1_18 6-9-2017_13_50_11 6-9-2017_13_52_21 6-9-2017_14_29_56 6-9-2017_14_31_4 6-9-2017_15_14_17 6-9-2017_15_14_29 6-9-2017_15_16_54 6-9-2017_15_21_20 6-9-2017_16_2_33 6-9-2017_16_2_45 6-9-2017_16_4_11 6-9-2017_16_4_14 6-9-2017_16_41_56 6-9-2017_16_41_59 6-9-2017_16_43_15 6-9-2017_16_43_18 6-9-2017_17_28_27 6-9-2017_17_28_32 6-9-2017_17_28_38 6-9-2017_17_28_42 6-9-2017_18_11_45 6-9-2017_18_11_51 6-9-2017_18_12_9 6-9-2017_18_12_31 6-9-2017_20_5_16 6-9-2017_20_5_29 6-9-2017_20_5_42 6-9-2017_20_5_54 6-9-2017_22_9_59 6-9-2017_22_10_7 6-9-2017_22_10_18 6-9-2017_22_10_22 6-10-2017_8_9_13 6-10-2017_8_9_17 6-10-2017_8_9_22 6-10-2017_8_9_26 6-10-2017_9_45_41 6-10-2017_9_45_48 6-10-2017_9_45_53 6-10-2017_9_45_57 6-10-2017_11_22_36 6-10-2017_11_22_39 6-10-2017_11_23_10 6-10-2017_11_23_14 6-10-2017_16_6_45 6-10-2017_16_7_17 6-10-2017_16_7_43 6-10-2017_16_8_3 6-10-2017_17_3_12 6-10-2017_17_3_18 6-11-2017_11_52_51 6-11-2017_11_52_58 6-11-2017_11_53_20 6-11-2017_11_53_52 6-11-2017_20_18_4 6-11-2017_20_18_44 6-11-2017_20_20_11 6-11-2017_20_20_39 6-12-2017_7_46_15 6-12-2017_7_46_20 6-12-2017_8_36_41 6-12-2017_15_8_29 6-12-2017_15_11_10 6-12-2017_16_1_24 6-12-2017_17_45_59 6-12-2017_17_46_8 6-12-2017_19_25_35 6-12-2017_19_25_39 6-13-2017_8_20_41 6-13-2017_8_21_3 6-13-2017_11_9_56 6-13-2017_11_10_17 6-17-2017_17_8_59 6-17-2017_17_8_45"      
global mia_f_date_listW2 "10-9-2017_16_23_6	10-9-2017_16_39_56	10-10-2017_10_21_46	10-10-2017_10_35_30	10-10-2017_15_9_50	10-10-2017_15_23_13	10-11-2017_14_25_46	10-11-2017_14_28_39	10-11-2017_21_31_6	10-11-2017_21_36_10	10-12-2017_16_21_26	10-12-2017_16_46_26	10-13-2017_18_5_25	10-13-2017_18_19_25	10-14-2017_12_12_0	10-14-2017_12_14_24	10-14-2017_19_27_27	10-15-2017_9_50_11	10-15-2017_10_11_29	10-15-2017_19_36_8	10-20-2017_15_38_27	10-20-2017_15_38_47	10-20-2017_15_39_5	10-20-2017_15_38_40	10-20-2017_15_40_37	10-20-2017_15_39_41	10-20-2017_15_40_32	10-20-2017_15_39_45	10-20-2017_15_39_34	10-20-2017_15_39_53	10-22-2017_10_59_22	10-22-2017_10_59_36	10-22-2017_11_0_41	10-22-2017_10_59_49	10-22-2017_10_59_55	10-22-2017_10_59_41	10-22-2017_11_0_46	10-22-2017_11_6_29	10-23-2017_16_32_7	10-23-2017_16_32_26	10-23-2017_16_31_58	10-23-2017_16_32_11	10-23-2017_16_32_32	10-24-2017_15_42_57	10-24-2017_15_43_30	10-24-2017_15_43_7	10-24-2017_15_43_23	10-24-2017_15_43_4	11-4-2017_15_26_35	11-4-2017_15_26_46	11-4-2017_15_27_30	11-4-2017_15_27_42	11-4-2017_15_26_47	11-4-2017_15_26_50	11-4-2017_15_26_57	11-4-2017_15_26_52	11-4-2017_15_27_43	11-4-2017_17_26_4	11-4-2017_17_25_58	11-4-2017_17_25_38.	11-4-2017_17_25_32	11-4-2017_17_26_7	11-4-2017_17_38_29	11-4-2017_18_14_47	11-4-2017_18_14_30	11-4-2017_18_15_0	11-4-2017_18_25_16	11-4-2017_18_25_23	11-4-2017_18_25_10	11-4-2017_18_25_13	11-4-2017_18_34_29	11-4-2017_18_40_39	11-4-2017_18_41_9	11-4-2017_18_41_32	11-6-2017_14_44_7	11-6-2017_14_43_43	11-6-2017_14_44_0	11-6-2017_14_44_22	11-6-2017_14_43_52	11-6-2017_14_44_29	11-6-2017_14_44_35	11-6-2017_15_15_12	11-6-2017_15_15_14	11-6-2017_15_24_4	11-6-2017_17_15_8	11-6-2017_17_15_1	11-6-2017_17_14_56	11-6-2017_17_15_16	11-6-2017_17_42_58	11-6-2017_17_42_52	11-6-2017_17_42_45	11-6-2017_17_42_48	11-6-2017_17_56_1	11-6-2017_17_55_53	11-6-2017_17_57_3	11-6-2017_17_56_49	11-6-2017_17_56_59	11-6-2017_18_18_47	11-6-2017_18_19_54	11-6-2017_18_19_12	11-6-2017_18_19_50	11-6-2017_18_18_34	11-6-2017_18_18_44	11-6-2017_18_19_16	11-6-2017_18_18_38	11-6-2017_18_22_30	11-7-2017_12_25_2	11-7-2017_12_24_43	11-7-2017_12_24_38	11-7-2017_12_25_10	11-7-2017_12_25_14	11-7-2017_12_26_9	11-7-2017_12_25_6	11-7-2017_12_25_48	11-7-2017_12_27_27	11-7-2017_19_32_50	11-7-2017_19_32_56	11-7-2017_19_33_2	11-7-2017_19_49_37	11-7-2017_19_49_2	11-7-2017_19_50_55	11-7-2017_19_50_13	11-7-2017_19_50_49	11-7-2017_19_50_43	11-8-2017_14_41_9	11-8-2017_14_42_39	11-8-2017_14_42_51	11-8-2017_14_44_55	11-8-2017_14_43_56	11-8-2017_14_45_22	11-8-2017_14_46_10	11-8-2017_14_48_2	11-8-2017_14_46_45	11-8-2017_15_44_32	11-8-2017_15_44_11	11-8-2017_15_44_2	11-8-2017_15_46_22	11-8-2017_15_46_31	11-8-2017_15_45_12	11-8-2017_15_45_20	11-8-2017_15_45_27	11-8-2017_15_46_57	11-8-2017_15_45_53	11-8-2017_15_47_5	11-8-2017_16_1_57	11-8-2017_16_1_46	11-8-2017_16_1_27	11-8-2017_16_2_52	11-8-2017_16_2_32	11-8-2017_16_2_47	11-8-2017_16_2_23	11-13-2017_20_13_11	11-13-2017_20_14_33	11-13-2017_20_15_39	11-13-2017_20_15_5	11-13-2017_20_15_11	11-13-2017_20_16_34	11-13-2017_20_17_6	11-13-2017_20_16_58	11-13-2017_20_32_49	12-4-2017_18_4_28	12-4-2017_18_5_3	12-4-2017_18_4_7	12-4-2017_18_15_20	12-4-2017_18_14_59	12-4-2017_18_15_40	12-4-2017_18_16_25	12-4-2017_18_27_43	12-4-2017_18_28_7	12-4-2017_18_34_53	12-4-2017_18_34_32	12-4-2017_18_34_28	12-6-2017_8_59_42	12-6-2017_8_58_33	12-6-2017_8_59_6	12-6-2017_8_59_10	12-6-2017_8_59_36	12-6-2017_8_58_58"


capture log close
